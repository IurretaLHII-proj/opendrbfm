<div class="modal-header">
	<h3 class="modal-title" ng-if="version.id">{[ process.title ]} ({[ version.name ]}) <small class="text-secondary">| edit</small></h3>
	<h3 class="modal-title" ng-if="!version.id">{[ process.title ]} <small class="text-secondary">| New version</small></h3>
</div>
<div class="modal-body" ng-init="init()">
	<div class="form-group">
		<label for="inputText">Name</label>
		<input type="text"
			class="form-control" 
			placeholder="Name"
			ng-class="{'is-invalid': errors.name}"
			ng-model="values.name"
			/>
		<div ng-if="errors.name"
			ng-repeat="(key, text) in errors.name"
			class="invalid-feedback">{[key]}. {[text]}</div>
	</div>
	<div class="form-group">
		<label for="inputParents">Previous</label>
		<select class="form-control"
			ng-class="{'is-invalid': errors.parent}"
			ng-model="values.parent"
			ng-options="item.id as item.name for item in parents"
			>
		</select>
		<div ng-if="errors.parent"
			ng-repeat="(key, text) in errors.parent"
			class="invalid-feedback">{[key]}. {[text]}</div>
	</div>
	<div class="form-group">
		<label for="inputParents">Type</label>
		<select class="form-control"
			ng-change="createType()"
			ng-class="{'is-invalid': errors.type}"
			ng-model="values.type"
			ng-options="item.id as item.name for item in types"
			>
		</select>
		<div ng-if="errors.type"
			ng-repeat="(key, text) in errors.type"
			class="invalid-feedback">{[key]}. {[text]}</div>
	</div>
	<div class="form-group">
		<label for="inputParents">Material</label>
		<select class="form-control"
			ng-change="createMaterial()"
			ng-class="{'is-invalid': errors.material}"
			ng-model="values.material"
			ng-options="item.id as item.name for item in materials"
			>
		</select>
		<div ng-if="errors.material"
			ng-repeat="(key, text) in errors.material"
			class="invalid-feedback">{[key]}. {[text]}</div>
	</div>
	<div class="form-group">
		<label for="inputName">Status</label>
		<select class="form-control" 
			class="form-control" 
			ng-model="values.state"
	  		ng-class="{'is-invalid': errors.state}"
		>
			<option ng-repeat="option in stateOptions" 
				ng-selected="option.id == values.state" 
				value="{[option.id]}">{[ option.name ]}</option>
		</select>
		<div ng-if="errors.state"
			ng-repeat="(key, text) in errors.state"
			class="invalid-feedback">{[key]}. {[text]}</div>
	</div>
	<div class="form-group">
		<!--<label for="inputDescription">Description</label>-->
		<text-angular 
			ng-model="values.description"
			ta-toolbar="[
				['bold', 'italics', 'underline' ],
		   		['ul', 'insertLink', 'html'],
			]"
			ta-text-editor-class="form-height form-control"
			ng-class="{'is-invalid': errors.description}"
			placeholder="Version description..."
			class=""
		>
		</text-angular>

		<div ng-if="errors.description"
			ng-repeat="(key, text) in errors.description"
			class="invalid-feedback" style="display:block;">{[key]}. {[text]}</div>
	</div>
</div>
<div class="modal-footer">
	<a href="" class="btn btn-secondary" ng-click="cancel()">Cancel</a>
	<a href="" class="btn btn-success" ng-click="save()">Save</a>
</div>
