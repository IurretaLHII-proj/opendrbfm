<!--<div class="d-flex flex-column align-self-center flex-fill mr-2">-->
<div ng-if="stage==current" class="d-flex flex-column mx-2">
	<div class="d-flex mb-1">
		<div class="bg-light border border-right-0 px-4">Version</div>
		<div class="px-4 bg-white border flex-fill">{[ stage.version ]}</div>
	</div>
	<div class="d-flex my-2">
		<div class="bg-light border border-right-0 px-4">Material</div>
		<div class="pl-2 pr-4 bg-white border">{[ stage.material.name ]}</div>
		<div class="px-4 bg-light border-top border-bottom">Stage</div>
		<div class="px-4 bg-white border flex-fill">{[ stage.getName() ]}</div>
	</div>
	<div class="d-flex my-2">
		<div class="bg-light border border-right-0 px-4">Operations</div>
		<div class="px-4 bg-white border flex-fill">
			<ul class="m-0 p-0" style="list-style:none;">
				<li ng-repeat="op in stage.operations">{[op.name]}</li>
			</ul>
		</div>
	</div>
	<div class="d-flex mt-2 mb-1">
		<div class="px-4 bg-light border border-right-0">Owner</div>
		<div class="px-4 bg-white border flex-fill">
			<a href="{[ stage.user.links.getHref() ]}">{[ stage.user.name ]}</a>
		</div>
		<div class="px-4 bg-light border-top border-bottom">Created</div>
		<div class="px-4 bg-white border flex-fill"><small>{[ stage.created | date:"dd MMM yyyy HH:mm" ]}</small></div>
	</div>
	<div class="d-flex my-2">
		<div class="bg-light border border-right-0 px-4">Description</div>
		<div class="px-4 bg-white border flex-fill" ng-bind-html="stage.body"></div>
	</div>
</div>

<ng-include 
	ng-repeat="child in stage.children" 
	ng-init="stage=child;" 
	class="flex-fill"
	src="'/js/custom/tpl/stage-content.html'"
/>
