{{ docType() }}
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>
            {% block title %}ZF2 {{ translate('Site title') }}{% endblock title %}
        </title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% block meta %}{% endblock meta %}

        <!-- Le styles -->
        <link href="{{ basePath() }}/images/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
		<!--<link href="{{ basePath() }}/css/modal.css" media="screen" rel="stylesheet" type="text/css">-->
        <link href="{{ basePath() }}/css/v4.1/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">
		<link rel='stylesheet' href='/js/node_modules/textangular/dist/textAngular.css'>
		<link rel='stylesheet' href='/js/node_modules/angular-ui-bootstrap/dist/ui-bootstrap-csp.css'>
        <link href="{{ basePath() }}/css/style.css" media="screen" rel="stylesheet" type="text/css">
        <link href="{{ basePath() }}/css/custom/custom.css" media="screen" rel="stylesheet" type="text/css">
        <link href="{{ basePath() }}/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css">
        
        {% block style %}{% endblock style %}
    
        <!-- Scripts -->
        <script type="text/javascript" src="{{ basePath() }}/js/jquery.min.js"></script>
		<script type="text/javascript" src="{{ basePath() }}/js/jquery-ui-1.12.1/jquery-ui.min.js"></script> <!-- required for border css animations -->
        <!--[if lt IE 9]><script type="text/javascript" src="{{ basePath() }}/js/respond.min.js"></script><![endif]-->
        <!--[if lt IE 9]><script type="text/javascript" src="{{ basePath() }}/js/html5shiv.js"></script><![endif]-->
		<script type="text/javascript" src="{{ basePath() }}/js/v4.1/bootstrap.min.js"></script>

        <script type="text/javascript" src="{{ basePath() }}/js/node_modules/angular/angular.min.js"></script>
        <script type="text/javascript" src="{{ basePath() }}/js/node_modules/angular-resource/angular-resource.min.js"></script>
        <script type="text/javascript" src="{{ basePath() }}/js/node_modules/angular-sanitize/angular-sanitize.min.js"></script>
        <script type="text/javascript" src="{{ basePath() }}/js/node_modules/angular-animate/angular-animate.min.js"></script>
		<!--
		<script type="text/javascript" src="{{ basePath() }}/js/node_modules/angular-ui-bootstrap/dist/ui-bootstrap.js"></script>
		-->
		<script type="text/javascript" src="{{ basePath() }}/js/node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>

		<script src='/js/node_modules/textangular/dist/textAngular-rangy.min.js'></script>
		<script src='/js/node_modules/textangular/dist/textAngular-sanitize.min.js'></script>
		<script src='/js/node_modules/textangular/dist/textAngular.min.js'></script>

		<script type="text/javascript" src="{{ basePath() }}/js/custom/custom.js"></script>

        {% block script %}{% endblock script %}
    </head>

    <body ng-app="myApp" ng-controller="MainCtrl" ng-cloak>
		<!-- Just an image -->
		<nav class="navbar flex-sm-nowrap navbar-light bg-light sticky-top p-0">
			<a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/" style="background:#EEE;">
				<img src="/img/logo.png" width="30" height="30" class="d-inline-block align-top" alt="IurretaLHI">IurretaLHI
			</a>
			<input 
				type="search" 
				class="form-control w-100" 
				aria-label="Search" 
				placeholder="Search" 
				style="
				padding: .75rem 1rem;
				border-width: 0;
				border-radius: 0;
				border-bottom: 1px solid #EEE;
			">
			<button class="btn btn-default my-0 rounded-0" type="submit">
				<span class="fa fa-search"></span>
			</button>
		
			<button class="navbar-toggler d-md-none" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
	  	</nav>

		<div class="collapse navbar-collapse d-md-none" id="navbarSupportedContent" style="background: #eee; border-bottom: 1px solid #ccc; padding: 12px;">
			{# setAddClassToListItem(true) //Passes li class to a tag #}
			{{ navigation('navigation').menu().setUlClass('navbar-nav mr-auto').setMinDepth(0).setMaxDepth(null).setRenderInvisible(false) | raw }}
		</div>

		<div class="container-fluid">

			<div ng-if="messages.success.length || messages.errors.length" class="messages">
				<div class="container">
					<div ng-repeat="message in messages.errors track by $index" class="alert alert-danger" role="alert">{[ message ]}<a href="" ng-click="closeError(message)" class="pull-right"><span class="fa fa-close"></span></a></div>
					<div ng-repeat="message in messages.success track by $index" class="alert alert-success" role="alert">{[ message ]}<a href="" ng-click="closeSuccess(message)" class="pull-right"><span class="fa fa-close"></span></a></div>
				</div>
			</div>

			{% block body %}{{ content|raw }}{% endblock body %}

			<script type="text/ng-template" id="modalContent.html">
				<div class="modal-header">
        		    <h3 class="modal-title">{[ operation.name ]}. New error</h3>
        		</div>
        		<div class="modal-body">
					<div class="form-row">
						<div class="form-group col-md-4">
						  	<label for="inputPriority">Priority</label>
						    <input type="number" 
						  		id="inputPriority"
						   		class="form-control" 
						  		ng-class="{'is-invalid': errors.priority}"
						  		ng-model="values.priority"/>
							<div ng-if="errors.priority"
								ng-repeat="(key, text) in errors.priority"
								class="invalid-feedback">{[key]}. {[text]}</div>
						</div>
						<div class="form-group col-md-8">
						  	<label for="inputTitle">Title</label>
						    <input type="text" 
						  		id="inputTitle"
						   		class="form-control" 
						  		ng-class="{'is-invalid': errors.title}"
						  		ng-model="values.title"/>
							<div ng-if="errors.title"
								ng-repeat="(key, text) in errors.title"
								class="invalid-feedback">{[key]}. {[text]}</div>
						</div>
					</div>
				</div>
    		    <div class="modal-footer">
					<a href="" class="btn btn-default" ng-click="cancel()">Cancel</a>
					<a href="" class="btn btn-success" ng-click="save()">Save</a>
        		</div>
			</script>

        </div> <!-- /container -->
	</body>
</html>

