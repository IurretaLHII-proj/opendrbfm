<a ng-href="{[ item.user.links.getHref() ]}">{[ item.user.name ]}</a>
<span class="text-muted">{[ item.name ]}</span>
a
<span class="text-muted" ng-if="isNote(item.source)"> 
	<span ng-if="item.source.class === 'MA\\Entity\\Note\\HintReason'">reason</span> 
	<span ng-if="item.source.class === 'MA\\Entity\\Note\\HintInfluence'">influence</span> 
	<span ng-if="item.source.class === 'MA\\Entity\\Note\\HintSuggestion'">suggestion</span> 
	<span ng-if="item.source.class === 'MA\\Entity\\Note\\HintEffect'">effect</span> 
	<span ng-if="item.source.class === 'MA\\Entity\\Note\\HintPrevention'">prevention</span> 
note</span>
<span class="text-muted" ng-if="isProcess(item.source)">Process</span> 
<span class="text-muted" ng-if="isVersion(item.source)">Version</span> 
<span class="text-muted" ng-if="isStage(item.source)">Stage</span> 
<span class="text-muted" ng-if="isHint(item.source)">Hint</span> 
<span class="text-muted" ng-if="isHintReason(item.source)">HintReason</span> 
<span class="text-muted" ng-if="isHintInfluence(item.source)">HintInfluence</span> 
<span class="text-muted" ng-if="isSimulation(item.source)">Simulation</span> 
on process
<a ng-href="{[ item.process.links.getHref() ]}">{[ item.process.title ]}</a>.
<small>{[ item.created | date: "MM/dd/yyyy 'at' HH:mm" ]}</small>

<!--<pre ng-if="item.name == 'update'" class="my-1">{[ item.content ]}</pre>-->
<div ng-repeat="(key, contents) in item.content" class="pl-4">

	<div class="d-flex mb-1" ng-if="contents['insert'] || contents['delete']">
		<div class="small font-weight-bold align-self-center">{[ key ]}</div>
		<div class="">
			<a ng-if="contents['delete']" 
				ng-repeat="object in contents['delete']" 
				ng-href="{[ object.href ]}" 
				class="btn btn-sm btn-light ml-2">
				<span class="text-danger fa fa-close"></span>
				<span ng-if="key!='images'">{[ object.name ]}</span>
				<img ng-if="key=='images'" width="100 "ng-src="{[ object.href ]}" />
			</a>
		</div>
		<div class="">
			<a ng-if="contents['insert']" 
				ng-repeat="object in contents['insert']" 
				ng-href="{[ object.href ]}" 
				class="btn btn-sm btn-light ml-2">
				<span class="text-success fa fa-plus"></span>
				<span ng-if="key!='images'">{[ object.name ]}</span>
				<img ng-if="key=='images'" width="100 "ng-src="{[ object.href ]}" />
			</a>
		</div>
	</div>
	
	<div class="d-flex mb-1" ng-if="!(contents['insert'] || contents['delete'])">
		<div class="small font-weight-bold align-self-center">{[ key ]}</div>
		<div class="align-self-center text-danger ml-2" 
			ng-if="contents[0] && !isObject(contents[0])" 
			ng-bind-html="contents[0]"></div>
		<div class="align-self-center" 
			ng-if="contents[0] && isObject(contents[0])">
			<a ng-href="{[ contents[0].href ]}" class="btn btn-sm btn-light ml-2">
				<span class="text-danger fa fa-close"></span>
				{[ contents[0].name ]}
			</a>
		</div>
		<div class="align-self-center text-success ml-2" 
			ng-if="contents[1] && !isObject(contents[1])" 
			ng-bind-html="contents[1]"></div>
		<div class="align-self-center" 
			ng-if="contents[1] && isObject(contents[1])">
			<a ng-href="{[ contents[1].href ]}" class="btn btn-sm btn-light ml-2">
				<span class="text-success fa fa-plus"></span>
				{[ contents[1].name ]}
			</a>
		</div>
	</div>

</div>
